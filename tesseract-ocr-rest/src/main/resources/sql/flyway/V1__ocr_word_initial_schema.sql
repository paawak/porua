CREATE MEMORY TABLE IF NOT EXISTS book ( 
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY, 
	name VARCHAR(200) UNIQUE NOT NULL,
	language VARCHAR(25) NOT NULL
);

CREATE MEMORY TABLE IF NOT EXISTS page_image ( 
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY, 
	book_id INTEGER NOT NULL REFERENCES book (id),
	name VARCHAR(200) UNIQUE NOT NULL,
	page_number INTEGER NOT NULL
);

CREATE MEMORY TABLE IF NOT EXISTS ocr_word (
	book_id INTEGER NOT NULL REFERENCES book (id),
	page_image_id INTEGER NOT NULL REFERENCES page_image (id),
	word_sequence_id INTEGER NOT NULL, -- the unique position of this word in a given raw_image
	raw_text CLOB NOT NULL,
	corrected_text CLOB,
    x1 INTEGER NOT NULL, 
    y1 INTEGER NOT NULL, 
    x2 INTEGER NOT NULL,
    y2 INTEGER NOT NULL, 
    confidence  DOUBLE NOT NULL,
    line_number INTEGER,
    ignored BOOLEAN DEFAULT FALSE NOT NULL
);
